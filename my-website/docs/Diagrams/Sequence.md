---
title: Sequence
sidebar_position: 3
---


```plantuml
@startuml

actor Клиент as c #green
participant FRONTEND as f #green
participant BACKEND as b #green
database    Блокчейн    as bc #yellow
actor Менеджер as m #green

c -> f : Пользователь нажимает \nкнопку "Создать кошелёк"
activate f 
f -> b : Запрос создания кошелька


alt Создание ключей

activate b
b -> bc : Запрос на создание \nпубличного и приватного ключа


activate bc
bc --> b : Отсылает сгенерированные ключи
deactivate bc
destroy bc

b -> b : Привязка ключей \nк учётной записи \nклиента
b --> f : Обновить список \nсчетов клиента
f --> c : Уведомление об \nуспешном создании
deactivate f




else Ошибка со стороны блокчейна
b -> bc : Запрос на создание \nпубличного и приватного ключа
deactivate b
activate bc
bc-->m : Сообщение об ошибке
bc-->c : Сообщение об ошибке
deactivate bc
destroy bc

end




@enduml



```

## Алгоритм создания кошелька

 1. Инициирование действия
- Клиент нажимает на кнопку **"Создать кошелёк"** в пользовательском интерфейсе.
- Запрос отправляется от **FRONTEND** к **BACKEND**.
 2. Создание ключей
- **BACKEND** отправляет запрос к системе **блокчейна** для генерации пары ключей (публичного и приватного).
- **Система блокчейна**:
  - Генерирует ключи.
  - Возвращает их **BACKEND**.
 3. Привязка ключей
- **BACKEND**:
  - Привязывает сгенерированные ключи к учётной записи клиента.
  - Обновляет данные о счетах клиента.
- **FRONTEND**:
  - Получает уведомление об успешном создании кошелька.
  - Информирует клиента о завершении операции.
 4. Обработка ошибок
- Если при создании ключей возникает ошибка на стороне **блокчейна**:
  - **BACKEND** повторно отправляет запрос к **блокчейну**.
  - **Блокчейн** уведомляет:
    - Менеджера об ошибке.
    - Клиента об ошибке.
 5. Завершение
- При успешном создании кошелька система уведомляет клиента через интерфейс.
- В случае ошибки клиент и менеджер получают соответствующее сообщение.
